<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <script type="text/javascript" charset="utf-8" src="js/echarts.js"></script>
    <title>采集站信息</title>
</head>
<body>
    <div id="main" style="width: 974px;height:518px; border:1px solid #cfcdcd"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));

        var placeHolderStyle = {
            normal: {
                label: {
                    show: false
                },
                labelLine: {
                    show: false
                },
                color: "rgba(0,0,0,0)",
                borderWidth: 0
            },
            emphasis: {
                color: "rgba(0,0,0,0)",
                borderWidth: 0
            }
        };

        var defaultStyle = {
            normal: {
                formatter: '空闲',
                position: 'center',
                show: true,
                textStyle: {
                    fontSize: '36',
                    fontWeight: 'normal',
                    color: '#34374E'
                }
            }
        };
        var dataStyle = {
            normal: {
                formatter: '{c}%',
                position: 'center',
                show: true,
                textStyle: {
                    fontSize: '36',
                    fontWeight: 'normal',
                    color: '#34374E'
                }
            }
        };


        option = {
            backgroundColor: '#fff',
            title: [{
                text: '采集站1',
                left: '12.6%',
                top: '24%',
                textAlign: 'center',
                textStyle: {
                    fontWeight: 'normal',
                    fontSize: '16',
                    color: '#AAAFC8',
                    textAlign: 'center',
                },
            }, {
                text: '采集站2',
                left: '36.6%',
                top: '24%',
                textAlign: 'center',
                textStyle: {
                    color: '#AAAFC8',
                    fontWeight: 'normal',
                    fontSize: '16',
                    textAlign: 'center',
                },
            }, {
                text: '采集站3',
                left: '60.6%',
                top: '24%',
                textAlign: 'center',
                textStyle: {
                    color: '#AAAFC8',
                    fontWeight: 'normal',
                    fontSize: '16',
                    textAlign: 'center',
                },
            }, {
                text: '采集站4',
                left: '85%',
                top: '24%',
                textAlign: 'center',
                textStyle: {
                    color: '#AAAFC8',
                    fontWeight: 'normal',
                    fontSize: '16',
                    textAlign: 'center',
                },
            }, {
                text: '采集站5',
                left: '12.6%',
                top: '58%',
                textAlign: 'center',
                textStyle: {
                    fontWeight: 'normal',
                    fontSize: '16',
                    color: '#AAAFC8',
                    textAlign: 'center',
                },
            }, {
                text: '采集站6',
                left: '36.6%',
                top: '58%',
                textAlign: 'center',
                textStyle: {
                    color: '#AAAFC8',
                    fontWeight: 'normal',
                    fontSize: '16',
                    textAlign: 'center',
                },
            }, {
                text: '采集站7',
                left: '60.6%',
                top: '58%',
                textAlign: 'center',
                textStyle: {
                    color: '#AAAFC8',
                    fontWeight: 'normal',
                    fontSize: '16',
                    textAlign: 'center',
                },
            }, {
                text: '采集站8',
                left: '85%',
                top: '58%',
                textAlign: 'center',
                textStyle: {
                    color: '#AAAFC8',
                    fontWeight: 'normal',
                    fontSize: '16',
                    textAlign: 'center',
                },
            }, {
                text: '采集站9',
                left: '12.6%',
                top: '91%',
                textAlign: 'center',
                textStyle: {
                    fontWeight: 'normal',
                    fontSize: '16',
                    color: '#AAAFC8',
                    textAlign: 'center',
                },
            }, {
                text: '采集站10',
                left: '36.6%',
                top: '91%',
                textAlign: 'center',
                textStyle: {
                    color: '#AAAFC8',
                    fontWeight: 'normal',
                    fontSize: '16',
                    textAlign: 'center',
                },
            }, {
                text: '采集站11',
                left: '60.6%',
                top: '91%',
                textAlign: 'center',
                textStyle: {
                    color: '#AAAFC8',
                    fontWeight: 'normal',
                    fontSize: '16',
                    textAlign: 'center',
                },
            }, {
                text: '采集站12',
                left: '85%',
                top: '91%',
                textAlign: 'center',
                textStyle: {
                    color: '#AAAFC8',
                    fontWeight: 'normal',
                    fontSize: '16',
                    textAlign: 'center',
                },
            }],

            //第一个图表
            series: [{
                type: 'pie',
                hoverAnimation: false, //鼠标经过的特效
                radius: ['25%', '30%'],
                center: ['13%', '18%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 100,
                    itemStyle: {
                        normal: {
                            color: '#E1E8EE'
                        }
                    },
                }, {
                    value: 35,
                    itemStyle: placeHolderStyle,
                }]
            },
            //上层环形配置
            {
                type: 'pie',
                hoverAnimation: false, //鼠标经过的特效
                radius: ['25%', '30%'],
                center: ['13%', '18%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 0,
                    itemStyle: {
                        normal: {
                            color: '#4897f6'
                        }
                    },
                    label: defaultStyle,
                }, {
                    value: 35,
                    itemStyle: placeHolderStyle,
                }],
                info: {
                    index: '',
                    value: 0,
                }
            },
            //第二个图表
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['37%', '18%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 100,
                    itemStyle: {
                        normal: {
                            color: '#E1E8EE'
                        }
                    },
                }, {
                    value: 35,
                    itemStyle: placeHolderStyle,
                }]
            },
            //上层环形配置
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['37%', '18%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 0,
                    itemStyle: {
                        normal: {
                            color: '#4897f6'
                        }
                    },
                    label: defaultStyle,
                }, {
                    value: 55,
                    itemStyle: placeHolderStyle,
                }],
                info: {
                    index: '',
                    value: 0,
                }
            },
            //第三个图表
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['61%', '18%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 100,
                    itemStyle: {
                        normal: {
                            color: '#E1E8EE'
                        }
                    },

                }, {
                    value: 35,
                    itemStyle: placeHolderStyle,
                }]
            },
            //上层环形配置
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['61%', '18%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 0,
                    itemStyle: {
                        normal: {
                            color: '#4897f6'
                        }
                    },
                    label: defaultStyle,
                }, {
                    value: 55,
                    itemStyle: placeHolderStyle,
                }],
                info: {
                    index: '',
                    value: 0,
                }
            },
            //第四个图表
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['85%', '18%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 100,
                    itemStyle: {
                        normal: {
                            color: '#E1E8EE'
                        }
                    },

                }, {
                    value: 35,
                    itemStyle: placeHolderStyle,
                }]
            },

            //上层环形配置
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['85%', '18%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 0,
                    itemStyle: {
                        normal: {
                            color: '#4897f6'
                        }
                    },
                    label: defaultStyle,
                }, {
                    value: 55,
                    itemStyle: placeHolderStyle,
                }],
                info: {
                    index: '',
                    value: 0,
                }
            },
            //第五个图表
            {
                type: 'pie',
                hoverAnimation: false, //鼠标经过的特效
                radius: ['25%', '30%'],
                center: ['13%', '52%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 100,
                    itemStyle: {
                        normal: {
                            color: '#E1E8EE'
                        }
                    },
                }, {
                    value: 35,
                    itemStyle: placeHolderStyle,
                }]
            },
            //上层环形配置
            {
                type: 'pie',
                hoverAnimation: false, //鼠标经过的特效
                radius: ['25%', '30%'],
                center: ['13%', '52%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 0,
                    itemStyle: {
                        normal: {
                            color: '#4897f6'
                        }
                    },
                    label: defaultStyle,
                }, {
                    value: 35,
                    itemStyle: placeHolderStyle,
                }],
                info: {
                    index: '',
                    value: 0,
                }
            },
            //第六个图表
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['37%', '52%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 100,
                    itemStyle: {
                        normal: {
                            color: '#E1E8EE'
                        }
                    },

                }, {
                    value: 35,
                    itemStyle: placeHolderStyle,
                }]
            },

            //上层环形配置
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['37%', '52%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 0,
                    itemStyle: {
                        normal: {
                            color: '#4897f6'
                        }
                    },
                    label: defaultStyle,
                }, {
                    value: 55,
                    itemStyle: placeHolderStyle,
                }],
                info: {
                    index: '',
                    value: 0,
                }
            },
            //第七个图表
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['61%', '52%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 100,
                    itemStyle: {
                        normal: {
                            color: '#E1E8EE'
                        }
                    },

                }, {
                    value: 35,
                    itemStyle: placeHolderStyle,
                }]
            },

            //上层环形配置
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['61%', '52%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 0,
                    itemStyle: {
                        normal: {
                            color: '#4897f6'
                        }
                    },
                    label: defaultStyle,
                }, {
                    value: 55,
                    itemStyle: placeHolderStyle,
                }],
                info: {
                    index: '',
                    value: 0,
                }
            },
            //第八个图表
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['85%', '52%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 100,
                    itemStyle: {
                        normal: {
                            color: '#E1E8EE'
                        }
                    },

                }, {
                    value: 35,
                    itemStyle: placeHolderStyle,
                }]
            },

            //上层环形配置
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['85%', '52%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 0,
                    itemStyle: {
                        normal: {
                            color: '#4897f6'
                        }
                    },
                    label: defaultStyle,
                }, {
                    value: 55,
                    itemStyle: placeHolderStyle,
                }],
                info: {
                    index: '',
                    value: 0,
                }
            },
            //第九个图层
            {
                type: 'pie',
                hoverAnimation: false, //鼠标经过的特效
                radius: ['25%', '30%'],
                center: ['13%', '85%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 100,
                    itemStyle: {
                        normal: {
                            color: '#E1E8EE'
                        }
                    },
                }, {
                    value: 35,
                    itemStyle: placeHolderStyle,
                }]
            },
            //上层环形配置
            {
                type: 'pie',
                hoverAnimation: false, //鼠标经过的特效
                radius: ['25%', '30%'],
                center: ['13%', '85%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 0,
                    itemStyle: {
                        normal: {
                            color: '#4897f6'
                        }
                    },
                    label: defaultStyle,
                }, {
                    value: 35,
                    itemStyle: placeHolderStyle,
                }],
                info: {
                    index: '',
                    value: 0,
                }
            },
            //第10个图表
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['37%', '85%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 100,
                    itemStyle: {
                        normal: {
                            color: '#E1E8EE'
                        }
                    },

                }, {
                    value: 35,
                    itemStyle: placeHolderStyle,
                },

                ]
            },

            //上层环形配置
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['37%', '85%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 0,
                    itemStyle: {
                        normal: {
                            color: '#4897f6'
                        }
                    },
                    label: defaultStyle,
                }, {
                    value: 55,
                    itemStyle: placeHolderStyle,
                }],
                info: {
                    index: '',
                    value: 0,
                }
            },
            //11个图表
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['61%', '85%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 100,
                    itemStyle: {
                        normal: {
                            color: '#E1E8EE'
                        }
                    },

                }, {
                    value: 35,
                    itemStyle: placeHolderStyle,
                }]
            },

            //上层环形配置
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['61%', '85%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 0,
                    itemStyle: {
                        normal: {
                            color: '#4897f6'
                        }
                    },
                    label: defaultStyle,
                }, {
                    value: 55,
                    itemStyle: placeHolderStyle,
                }],
                info: {
                    index: '',
                    value: 0,
                }
            },
            //第12个图表
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['85%', '85%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 100,
                    itemStyle: {
                        normal: {
                            color: '#E1E8EE'
                        }
                    },

                }, {
                    value: 35,
                    itemStyle: placeHolderStyle,
                }]
            },

            //上层环形配置
            {
                type: 'pie',
                hoverAnimation: false,
                radius: ['25%', '30%'],
                center: ['85%', '85%'],
                startAngle: 225,
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                label: {
                    normal: {
                        position: 'center'
                    }
                },
                data: [{
                    value: 0,
                    itemStyle: {
                        normal: {
                            color: '#4897f6'
                        }
                    },
                    label: defaultStyle,
                }, {
                    value: 55,
                    itemStyle: placeHolderStyle,
                }],
                info: {
                    index: '',
                    value: 0,
                }
            }]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);

        //动态刷新资源采集进度
        function refreshProgess(o) {
            var deviceIndex = o && o.deviceInfo || "";
            var percent = o && o.percent || 0;
            option.series.forEach(function (item, index) {
                if (item.info && item.info.index == deviceIndex) {
                    item.info.value = percent;
                    item.data[0].value = percent;
                    item.data[0].label = dataStyle;
                    return;
                }
                else if (item.info && item.info.value >= 100) {
                    item.info.value = percent;
                    item.info.index = deviceIndex;
                    item.data[0].value = percent;
                    item.data[0].label = dataStyle;
                }
            });
            myChart.setOption(option);
        }


    </script>

</body>
</html>